<!doctype html><html lang="tr"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Profil</title>
<link rel="stylesheet" href="style.css">
</head><body>
<nav style="padding:12px"><a href="login.html">← Kullanıcı değiştir</a></nav>

<main style="max-width:680px;margin:auto;text-align:center">
  <img id="profilePhoto" alt="Profil" style="width:150px;height:150px;object-fit:cover;border-radius:50%;margin:16px auto;display:block">
  <h2 id="userName"></h2>
  <p id="userBio"></p>
  <p id="userExtra"></p>
  <a href="index.html"><button class="login-btn">Ana sayfaya dön</button></a>
</main>

<script>
function qp(n){return new URLSearchParams(location.search).get(n);}
(async()=>{
  try{
    const id = Number(qp('id'));
    const users = await (await fetch('kullanicilar.json')).json();
    const u = users.find(x=>Number(x.id)===id);
    if(!u){ document.getElementById('userName').textContent='Kullanıcı bulunamadı'; return; }

    const name  = u.ad || u.name || 'Bilinmiyor';
    const photo = u.profilFoto || u.photo || '';
    const konum = u.konum || '';
    const bakiye= (u.piBakiyesi!=null)? Pi Bakiyesi: ${u.piBakiyesi} π : '';

    document.getElementById('profilePhoto').src = photo;
    document.getElementById('userName').textContent = Kullanıcı: ${name};
    document.getElementById('userBio').textContent  = konum? Konum: ${konum} : '';
    document.getElementById('userExtra').textContent= bakiye;
  }catch(e){
    document.body.innerHTML = '<p style="text-align:center">Profil yüklenemedi.</p>';
    console.error(e);
  }
})();
</script>
</body></html>
